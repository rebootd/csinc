!!!
%html{:lang => "en", "data-ng-app"=>"csinc"}
  %head
    %meta{:name=>'keywords', :content=>'custom software,custom programming,HTML,CSS,XML,.net,Ruby,Rails,JavaScript'}
    %meta{ :name=>'description', :content=>'Computerist Solutions is a customer software development company specializing in business needs of small to medium sized business'}
    %link{ :rel=>"alternate", :type=>"application/rss+xml", :title=>"Computerist Solutions Blog", :href=>"/feed/rss"}
    %meta{ 'http-equiv'=>"Content-Type", :content=>"text/html; charset=utf-8"}
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
    %meta{:content => "", :name => "description"}/
    %meta{:content => "", :name => "author"}/
    %title Computerist Solutions Inc | #{yield :title || ""}
    
    / Le styles
    %link{:href => "/css/bootstrap.css", :rel => "stylesheet"}/
    :css
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
        %link{:href => "/css/bootstrap-responsive.css", :rel => "stylesheet"}/
    / HTML5 shim, for IE6-8 support of HTML5 elements
    /[if lt IE 9]
      %script{:src => "/js/html5shiv.js"}
    / Fav and touch icons
    %link{:href => "/favicon.ico", :rel => "shortcut icon"}/
    %script{:src => "//ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"}
    %script{:src => "/js/angular.min.js"}
    %script{:src => "/js/angular-resource.min.js"}
    %script{:src => "/js/angular-route.min.js"}
    %script{:src => "/app/posts.resource.js"}
    %script{:src => "/app/csinc.app.js"}
    = yield :head
    = csrf_meta_tags
  %body{"ng-controller"=>"AppCtrl"}
    .navbar.navbar-inverse.navbar-fixed-top
      .navbar-inner
        .container
          %button.btn.btn-navbar{"data-target" => ".nav-collapse", "data-toggle" => "collapse", :type => "button"}
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.brand{:href => '/'} csinc
          .nav-collapse.collapse
            %ul.nav
              %li{"ng-class"=>"{'active':page=='home'}" }
                %a{:href=>'/#/home', "ng-click"=>"setPage('home')"} home

              %li{"ng-class"=>"{'active':page=='about'}" }
                %a{:href=>'/#/about', "ng-click"=>"setPage('about')"} about

              %li{"ng-class"=>"{'active':page=='contact'}" }
                %a{:href=>'/#/contact', "ng-click"=>"setPage('contact')"} contact

              %li{"ng-class"=>"{'active':page=='blog'}" }
                %a{:href=>'/#/blog', "ng-click"=>"setPage('blog')"} blog

              %li
                %a{:href=>'//github.com/rebootd'} github ->
          / /.nav-collapse
    .container
      / = yield 
      %span{"ng-view"=>""}

    / /container    

    %div#footer
      %div.container
        %p.muted.credit
          %div
            %a{:href=>'http://sunlightfoundation.com/'} sunlight foundation
            | 
            %a{:href=>'http://openstates.org/'} open states
            | 
            %a{:href=>'http://data.influenceexplorer.com/'} influence
          %div
            %a{:href=>'http://www.wolframalpha.com/'} wolfram alpha
            | 
            %a{:href=>'http://slashdot.org/'} slashdot
            | 
            %a{:href=>'https://lobste.rs/'} lobste.rs
          %div
            %a{:href=>'https://github.com/rebootd/csinc'} source for this site

    =javascript_include_tag "application"
    =yield :scripts
    =yield :javascript
    %script{:src=>"//static.getclicky.com/js", :type=>"text/javascript"}
    :javascript 
      var clicky_site_ids = clicky_site_ids || [];
      clicky_site_ids.push(100678440);
      (function() {
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//static.getclicky.com/js';
        ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
      })();

